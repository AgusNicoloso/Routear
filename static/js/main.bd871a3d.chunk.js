(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,n){e.exports=n(151)},105:function(e,t,n){},106:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(33),i=n.n(o),l=(n(105),n(91)),c=n.n(l),s=(n(106),n(8)),u=n(9),p=n(12),m=n(11),f=n(16),d=n(63),b=n(72),h=n(98),v=n(29),g=n(6),O=n.n(g),y=Object(v.b)((function(e){var t=e.name,n=e.skipTouch,o=e.formik,i=o.errors?o.errors[t]:"",l=Object(v.c)(o.touched,t);return i&&(l||n)?a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:O()("no-form-control",{"is-invalid":i})}," "),a.a.createElement("div",{className:"invalid-feedback"},i)):null})),E=n(155),j=n(166),M=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).renderField=function(){var t=e.props,n=t.formik,r=t.name,o=(t.isSubmitting,t.placeholder),i=t.innerRef,l=t.password,c=t.disabled,s=(t.submitOnChnage,t.prefix,t.notErrorMessage,t.className),u=Object(h.a)(t,["formik","name","isSubmitting","placeholder","innerRef","password","disabled","submitOnChnage","prefix","notErrorMessage","className"]),p=s?s.split(" "):[];return a.a.createElement(v.a,Object.assign({type:l?"password":"text",name:r,placeholder:o,disabled:c||n.isSubmitting,innerRef:i,className:O.a.apply(void 0,["form-control"].concat(Object(b.a)(p),[{"is-invalid":Object(v.c)(n.errors,r)}])),value:Object(v.c)(n.values,r)||""},u))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.prefix,o=e.notErrorMessage;return a.a.createElement(r.Fragment,null,n?a.a.createElement(E.a,null,this.renderField(),a.a.createElement(j.a,{addonType:"append"},n),a.a.createElement(y,{name:t})):a.a.createElement(r.Fragment,null,this.renderField(),!o&&a.a.createElement(y,{name:t})))}}]),n}(r.Component),C=Object(v.b)(M),w=n(156),k=n(157),A=n(158),N=n(159),S=n(160),I=n(71),F=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"sweet-loading"},a.a.createElement(I.ClipLoader,{sizeUnit:"px",size:60,color:"#FF586B"}))}}]),n}(a.a.Component),P=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement(I.ClipLoader,{sizeUnit:"px",size:this.props.size,color:"#780206"})}}]),n}(a.a.Component),D=n(165),_=fe(function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).focus=function(){var t=e.props,n=t.isModalOpen,r=t.firstInput;r&&r.current?r.current.focus():n&&(e.timerId=setTimeout(e.focus,500))},e.onClose=function(){e.props.toggleModal(),e.props.onClose()},e}return Object(u.a)(n,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timerId)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.submitted,r=t.submitting,a=t.isModalOpen,o=t.closeModal;e.submitting&&!1===r&&this.props.onSubmitted(),e.submitted||!0!==n||o(),!e.isModalOpen&&a&&(this.timerId=setTimeout(this.focus,500))}},{key:"render",value:function(){var e=this.props,t=e.isModalOpen,n=e.toggleModal,o=e.children,i=e.onSubmit,l=e.name,c=e.loading,s=e.modalLevel,u=e.dirty;return a.a.createElement(D.a,{size:"lg",isOpen:t,toggle:n,fade:!1,className:s<=4?"p-".concat(s):"p-5"},c?a.a.createElement(w.a,{className:"p-5"},a.a.createElement(F,null)):a.a.createElement(r.Fragment,null,a.a.createElement(k.a,{toggle:n},l,a.a.createElement("ul",{className:"nav list-inline ml-auto float-right"},u&&a.a.createElement("li",{className:"list-inline-item pl-2 right"},a.a.createElement("p",{className:"mb-0"},a.a.createElement("small",null,a.a.createElement("em",null,"(","cambios sin guardar",")")))),this.props.working>0&&a.a.createElement("li",{className:"list-inline-item pl-2"}," ",a.a.createElement(P,{size:14})," "))),a.a.createElement(w.a,null,a.a.createElement(A.a,{onSubmit:i},o,a.a.createElement("input",{type:"submit",className:"hidden"}),a.a.createElement(y,{name:"non_field_errors",skipTouch:!0}))),a.a.createElement(N.a,null,a.a.createElement(S.a,{color:"primary",type:"submit",onClick:i},"Guardar")," ",a.a.createElement(S.a,{color:"warning",className:"text-white",onClick:this.onClose},"Cancelar"))))}}]),n}(r.Component)),T=(n(90),Object.prototype.toString);function x(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function U(e){if(!e)return!0;if(z(e)&&0===e.length)return!0;if("string"!==typeof e){for(var t in e)if(x(e,t))return!1;return!0}return!1}function R(e){return T.call(e)}var z=Array.isArray||function(e){return"[object Array]"===T.call(e)};function L(e){if(e.startsWith("[")&&e.endsWith("]")){var t=e.slice(1,e.length-1),n=parseInt(t);if(n.toString()===t)return n}return e}function W(e){e=e||{};var t=function e(t){return Object.keys(e).reduce((function(n,r){return"create"===r||"function"===typeof e[r]&&(n[r]=e[r].bind(e,t)),n}),{})};function n(t,n){return e.includeInheritedProps||"number"===typeof n&&Array.isArray(t)||x(t,n)}function r(e,t){if(n(e,t))return e[t]}function a(e,t,n,o){if("number"===typeof t&&(t=[t]),!t||0===t.length)return e;if("string"===typeof t)return a(e,t.split(".").map(L),n,o);var i=t[0],l=r(e,i);return 1===t.length?(void 0!==l&&o||(e[i]=n),l):(void 0===l&&("number"===typeof t[1]?e[i]=[]:e[i]={}),a(e[i],t.slice(1),n,o))}return t.has=function(t,n){if("number"===typeof n?n=[n]:"string"===typeof n&&(n=n.split(".")),!n||0===n.length)return!!t;for(var r=0;r<n.length;r++){var a=L(n[r]);if(!("number"===typeof a&&z(t)&&a<t.length||(e.includeInheritedProps?a in Object(t):x(t,a))))return!1;t=t[a]}return!0},t.ensureExists=function(e,t,n){return a(e,t,n,!0)},t.set=function(e,t,n,r){return a(e,t,n,r)},t.insert=function(e,n,r,a){var o=t.get(e,n);a=~~a,z(o)||t.set(e,n,o=[]),o.splice(a,0,r)},t.empty=function(e,r){var a,o;if(!U(r)&&(null!=e&&(a=t.get(e,r)))){if("string"===typeof a)return t.set(e,r,"");if(function(e){return"boolean"===typeof e||"[object Boolean]"===R(e)}(a))return t.set(e,r,!1);if("number"===typeof a)return t.set(e,r,0);if(z(a))a.length=0;else{if(!function(e){return"object"===typeof e&&"[object Object]"===R(e)}(a))return t.set(e,r,null);for(o in a)n(a,o)&&delete a[o]}}},t.push=function(e,n){var r=t.get(e,n);z(r)||t.set(e,n,r=[]),r.push.apply(r,Array.prototype.slice.call(arguments,2))},t.coalesce=function(e,n,r){for(var a,o=0,i=n.length;o<i;o++)if(void 0!==(a=t.get(e,n[o])))return a;return r},t.get=function(e,n,a){if("number"===typeof n&&(n=[n]),!n||0===n.length)return e;if(null==e)return a;if("string"===typeof n)return t.get(e,n.split("."),a);var o=L(n[0]),i=r(e,o);return void 0===i?a:1===n.length?i:t.get(e[o],n.slice(1),a)},t.del=function(e,r){if("number"===typeof r&&(r=[r]),null==e)return e;if(U(r))return e;if("string"===typeof r)return t.del(e,r.split("."));var a=L(r[0]);return n(e,a)?1!==r.length?t.del(e[a],r.slice(1)):(z(e)?e.splice(a,1):delete e[a],e):e},t}var q=W();q.create=W,q.withInheritedProps=W({includeInheritedProps:!0});function B(e,t,n){return console.log(e,t,n),{type:"CREATE",action:"CREATE",resource:e,body:t,path:n}}function H(e,t,n){return{type:"UPDATE",action:"UPDATE",resource:e,id:t,body:n}}n(4),n(59),n(22),n(7),n(18);Object.assign({},{API_URL:"http://localhost:3001/",SENTRY_DSN:""});var K=n(83),V=n.n(K),G=Object.prototype.hasOwnProperty;function J(e){if(Y(e))return!1;if(!e)return!0;if(Q(e)&&0===e.length)return!0;if(!$(e)){for(var t in e)if(G.call(e,t))return!1;return!0}return!1}function Y(e){return"number"===typeof e}function $(e){return"string"===typeof e}function Q(e){return Array.isArray(e)}function X(e,t){for(var n in t)G.call(t,n)&&(e[n]=t[n]);return e}function Z(e){if(e.startsWith("[")&&e.endsWith("]")){var t=e.slice(1,e.length-1),n=parseInt(t);if(n.toString()===t)return n}return e}function ee(e,t,n){return null==e?t?n?[]:{}:e:Q(e)?e.slice():X({},e)}function te(e,t){if(e!==t&&V()(e)&&V()(t)){var n={};for(var r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)?n[r]=te(e[r],t[r]):n[r]=e[r]);for(r in t)t.hasOwnProperty(r)&&(n[r]=te(e[r],t[r]));return n}return t}function ne(e,t,n,r){if(Y(n)&&(n=[n]),J(n))return t;if($(n))return ne(e,t,n.split(".").map(Z),r);var a=n[0];return e&&e!==t||(e=ee(t,!0,Y(a))),1===n.length?r(e,a):(null!=t&&(t=t[a]),e[a]=ne(e[a],t,n.slice(1),r),e)}var re={set:function(e,t,n,r){return J(n)?r:ne(e,t,n,(function(e,t){return e[t]=r,e}))},update:function(e,t,n,r){return J(n)?r(ee(t)):ne(e,t,n,(function(e,t){return e[t]=r(e[t]),e}))},push:function(e,t,n){var r=Array.prototype.slice.call(arguments,3);return J(n)?Q(t)?t.concat(r):r:ne(e,t,n,(function(e,t){return Q(e[t])?e[t]=e[t].concat(r):e[t]=r,e}))},insert:function(e,t,n,r,a){if(a=~~a,J(n)){if(!Q(t))return[r];var o=t.slice(0,a);return o.push(r),o.concat(t.slice(a))}return ne(e,t,n,(function(e,t){var o=e[t];if(!Q(o)){if(null!=o&&"undefined"!==typeof o)throw new Error("Expected "+n+"to be an array. Instead got "+typeof n);o=[]}var i=o.slice(0,a);return i.push(r),e[t]=i.concat(o.slice(a)),e}))},del:function(e,t,n){if(!J(n))return ne(e,t,n,(function(e,t){return Array.isArray(e)?void 0!==e[t]&&e.splice(t,1):e.hasOwnProperty(t)&&delete e[t],e}))},assign:function(e,t,n,r){return J(n)?J(r)?t:X(ee(t),r):ne(e,t,n,(function(e,t){r=Object(r);var n=ee(e[t],!0);return X(n,r),e[t]=n,e}))},merge:function(e,t,n,r){return J(n)?J(r)?t:te(t,r):ne(e,t,n,(function(e,t){return r=Object(r),e[t]=te(e[t],r),e}))}};Object.keys(re).reduce((function(e,t){return e[t]=re[t].bind(null,null),e}),(function(e){var t=e,n=!1,r=Object.keys(re).reduce((function(a,o){return"function"===typeof re[o]&&(a[o]=function(){var a=[t,e].concat(Array.prototype.slice.call(arguments));if(n)throw new Error("Cannot call "+o+" after `value`");return t=re[o].apply(null,a),r}),a}),{});return r.value=function(){return n=!0,t},r})),n(164);n(96);var ae=function(e){var t=e.children;return a.a.createElement("div",{className:"form-group"},t)},oe=function(e){var t=e.htmlFor,n=e.name,r=e.children;return a.a.createElement(ae,null,a.a.createElement("label",{htmlFor:t},n,":"),r)},ie=n(161),le=n(162),ce=n(44),se=function(e,t,n,o,i){var l=function(r){Object(p.a)(l,r);var o=Object(m.a)(l);function l(){var e;Object(s.a)(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).getActionName=function(e){switch(e){case"create":return"Crear";case"update":return"Editar";case"clone":return"Clonar";default:return""}},e}return Object(u.a)(l,[{key:"componentDidUpdate",value:function(t){(void 0===this.props.obj&&void 0!==t.obj||void 0!==this.props.obj&&void 0===t.obj||void 0!==this.props.obj&&void 0!==t.obj&&t.obj.id!==this.props.obj.id)&&this.props.resetForm(e(this.props))}},{key:"render",value:function(){var e=this.props,r=e.modalId,o=e.submitted,l=e.dirty,c=e.resetForm,s=e.submitting,u=e.handleSubmit,p=e.objLoading,m=e.onSubmitted,f=e.operation;return a.a.createElement(_,{submitted:o,submitting:s,modalId:r,onClose:function(){return c()},dirty:l,onSubmit:u,name:"".concat(this.getActionName(f)," ").concat(t),loading:p,description:n,onSubmitted:m,operation:f},a.a.createElement(i,this.props))}}]),l}(r.Component);return function(e,t,n){var o=function(e){Object(p.a)(r,e);var t=Object(m.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onSubmitted=function(){var t=e.props,n=t.setSubmitting,r=t.setErrors,a=t.serverErrors,o=t.resetForm;n(!1),a?r(a):o()},e}return Object(u.a)(r,[{key:"render",value:function(){return a.a.createElement(n,Object.assign({operation:this.props.openData.operation,onSubmitted:this.onSubmitted},this.props))}}]),r}(r.Component);return fe(Object(v.d)({validationSchema:t,handleSubmit:function(e,t){var n=t.isSubmitting,r=t.props;if(!n){var a=r.openData,o=r.obj,i=r.modalId,l=a.operation;"create"===l||"clone"===l?(console.log("ENTROO",B),B(i,e)):"update"===l&&H(e,o.id)}},mapPropsToValues:e})(o))}(e,o,l)}((function(e){var t=e.obj;return{username:t?t.username:"",first_name:t?t.first_name:"",last_name:t?t.last_name:"",email:t?t.email:"",password:"",confirmPassword:"",roles:t&&t.roles?t.roles:[],is_master:!!t&&t.is_master}}),"Usuario","",(function(e){return ce.a().shape({first_name:ce.b().required("El nombre es obligatorio"),username:ce.b().required("El usuario es obligatorio"),email:ce.b().required("El email es obligatorio").email("El email ingresado no es v\xe1lido"),password:ce.b().label("Contrase\xf1a").min(2,"Es demasiado corta..."),confirmPassword:ce.b().label("Confirmar contrase\xf1a").test("passwords-match","Las contrase\xf1as no coinciden",(function(e){return this.parent.password===e}))})}),function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).firstInput=a.a.createRef(),r}return Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement(ie.a,null,a.a.createElement(le.a,null,a.a.createElement(oe,{htmlFor:"first_name",name:"Nombre"},a.a.createElement(C,{name:"first_name",innerRef:this.firstInput}))),a.a.createElement(le.a,null,a.a.createElement(oe,{htmlFor:"last_name",name:"Apellido"},a.a.createElement(C,{name:"last_name"})))),a.a.createElement(ie.a,null,a.a.createElement(le.a,null,a.a.createElement(oe,{htmlFor:"username",name:"Usuario"},a.a.createElement(C,{name:"username"}))),a.a.createElement(le.a,null,a.a.createElement(oe,{htmlFor:"email",name:"Email"},a.a.createElement(C,{name:"email"})))),a.a.createElement(ie.a,null,a.a.createElement(le.a,null,a.a.createElement(oe,{htmlFor:"password",name:"Contrase\xf1a"},a.a.createElement(C,{name:"password",password:!0}))),a.a.createElement(le.a,null,a.a.createElement(oe,{htmlFor:"confirmPassword",name:"Confirmar Contrase\xf1a"},a.a.createElement(C,{name:"confirmPassword",password:!0})))))}}]),n}(r.Component));Object(d.configure)({});var ue={users:{name:"Usuario",sequences:[],modalClass:se}},pe=Object(r.createContext)({isOpen:null,toggleModal:function(e){return null},openModal:function(e,t){return null},closeModal:function(e){return null},openData:null,level:null}),me=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).setCloseModal=function(e){r.setState((function(t){return{isOpen:Object.assign({},t.isOpen,Object(f.a)({},e,void 0)),level:t.level>1?t.level-1:0}}))},r.setOpenModal=function(e,t){console.log(ue,e),r.setState((function(n){var r={isOpen:Object.assign({},n.isOpen,Object(f.a)({},e,!0)),level:n.level+1};return t&&(r.openData=Object.assign({},n.openData,Object(f.a)({},e,t))),r}))},r.toggleModal=function(e){void 0!==r.state.isOpen[e]?r.setCloseModal(e):r.setOpenModal(e)},r.openModal=function(e,t){void 0===r.state.isOpen[e]&&r.setOpenModal(e,t)},r.closeModal=function(e){void 0!==r.state.isOpen[e]&&r.setCloseModal(e)},r.getKeyMap=function(e){return e},r.getHandlers=function(e){return Object.keys(e).reduce((function(e,t){return e[t]=function(e){r.openModal(t,{key:e.key})},e}),{})},r.state={isOpen:{},toggleModal:r.toggleModal,openModal:r.openModal,closeModal:r.closeModal,openData:{},level:-1},r}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children,t=this.getKeyMap(ue),n=this.getHandlers(t);return console.log(this.state),a.a.createElement(pe.Provider,{value:this.state},a.a.createElement(d.GlobalHotKeys,{keyMap:t,handlers:n,allowChanges:!0}),e)}}]),n}(r.Component);function fe(e){return function(t){Object(p.a)(r,t);var n=Object(m.a)(r);function r(){return Object(s.a)(this,r),n.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var t=this;return a.a.createElement(pe.Consumer,null,(function(n){var r=n.isOpen,o=n.toggleModal,i=n.openModal,l=n.closeModal,c=n.openData;return a.a.createElement(e,Object.assign({},t.props,{isModalOpen:void 0!==r[t.props.modalId],toggleModal:function(){return o(t.props.modalId)},openModal:i,closeModal:function(){return l(t.props.modalId)},openData:c[t.props.modalId]||{},modalLevel:r[t.props.modalId]||0}))}))}}]),r}(r.Component)}var de,be=n(163),he=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleClick=function(){console.log("ENTROO",e.props.resource,e.props),e.props.openModal(e.props.resource,{operation:"create",initialValues:e.props.initialValues})},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.submitted,r=t.onDone;!e.submitted&&!0===n&&r&&r()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.disabled;return n?a.a.createElement(r.Fragment,null,r.Children.map(n,(function(t){return Object(r.cloneElement)(t,{onClick:o?null:e.handleClick})}))):a.a.createElement(be.a,{size:24,className:"ml-2 clickable",onClick:o?null:this.handleClick,title:"Agregar"})}}]),n}(r.Component),ve=(de=he,function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement(pe.Consumer,null,(function(t){var n=t.isOpen,r=t.toggleModal,o=t.openModal,i=t.closeModal,l=t.openData;return a.a.createElement(de,Object.assign({},e.props,{isModalOpen:n,toggleModal:r,openModal:o,closeModal:i,openData:l,modalLevel:n}))}))}}]),n}(r.Component));function ge(e){return a.a.createElement(r.Fragment,null,Object.keys(ue).map((function(e){var t=ue[e].modalClass;return a.a.createElement(t,{key:e,modalId:e})})))}var Oe=function(){return a.a.createElement(me,null,a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement(ve,{resource:"users"},a.a.createElement(S.a,{color:"primary"},"Prueba")),a.a.createElement(ge,null),a.a.createElement("img",{src:c.a,className:"App-logo",alt:"logo"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(149),n(150);i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"}},[[100,1,2]]]);
//# sourceMappingURL=main.bd871a3d.chunk.js.map